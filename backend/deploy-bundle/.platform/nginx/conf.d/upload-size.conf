# NGINX Configuration - Increase Upload Size Limit
# This is the modern Elastic Beanstalk approach using .platform directory
# This file is automatically included by Elastic Beanstalk's NGINX configuration
#
# This fixes the "client intended to send too large body" error
# Spring Boot allows up to 500MB, but NGINX default is 1MB
# Increased timeouts to handle large video uploads (500MB can take several minutes)

# Increase client body size limit to 500MB (matches Spring Boot max)
client_max_body_size 500M;

# Increase timeouts for large file uploads
# 600 seconds = 10 minutes (enough for 500MB uploads)
proxy_read_timeout 600s;
proxy_connect_timeout 600s;
proxy_send_timeout 600s;

# Buffer settings for large uploads
# Disable buffering to allow streaming of large files
proxy_buffering off;
proxy_request_buffering off;

